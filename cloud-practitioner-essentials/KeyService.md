## AWS 핵심 서비스 
AWS를 기반하는 서비스를 설계할 때, 필수로 사용하는 서비스들을 살펴본다. 이들 서비스는 네트워크, 스토리지, 컴퓨팅, 데이터베이스, 빅데이터 등의 범주를 대표한다. 각각의 범주는 상당히 광범위한 내용을 다루므로 여기에서는 개략적인 설명만을 다루고, 각각에 대해서는 별도의 문서를 통해서 자세히 학습할 것이다.

## AWS 서비스 범주 소개 
AWS는 아래의 주요 서비스 범주를 가지고 있다.
  * 컴퓨팅
  * 스토리지
  * 데이터베이스
  * 네트워킹

### 컴퓨팅 
AWS는 EC2(Elastic Computing Cloud)라는 컴퓨팅 서비스를 제공한다. *메모리, CPU, 스토리지*로 구성된 물리적인 컴퓨터 시스템의 추상화다. 가상머신(Virtual Machine) 서비스라고 이해하면 된다.

컴퓨터 시스템이 다양한 CPU, Memory, Disk 용량을 가지듯이 EC2도 목적에 따른 다양한 "인스턴스 타입", "요금"등을 지원한다. 예를들어 개발자는 실행하려는 워크로드에 따라서 CPU 우선, 메모리 우선, GPU 우선등과 같은 적절한 인스턴스 타입과 CPU 갯수, 메모리 크기와 같은 용량을 선택해서 실행 할 수 있다. 또한 리눅스, 윈도우즈와 같은 운영체제를 선택할 수 있다.

EC2는 운영체제와 애플리케이션을 저장하기 위한 *블럭 스토리지*가 필요한데, EBS(Elastic Block Store)를 이용해서 스토리지를 EC2 인스턴스에 붙일 수(attach)할 수 있다. EBS는 하드디스크 서비스라고 볼 수 있다. AWS는 하드디스크 타입과 SSD 타입의 EBS 서비스를 제공하며, IOPS 설정 서비스도 제공한다.

### 데이터베이스
AWS는 Aurora, Amazon RDS, Amazon DynamoDB, Amazon Redshift등의 데이터베이스 서비스를 제공한다. 가용성, 확장성, 백업, 복구 등 일체의 관리를 AWS에 위임할 수 있다.

### 네트워크
AWS의 VPC는 네트워크 서비스다. 유저는 IP 기반의 네트워크를 할당받아서, 서브넷을 구성하고 라우터를 이용 인바운드&아웃바운드 트래픽을 제어 할 수 있다.

## AWS 글로벌 인프라
AWS는 전 지구를 커버하기 위한 글로벌 인프라를 제공한다. AWS의 글로벌 인프라는 *리전(Region), 가용영역(AZ), 엣지 로케이션(Edge location)*의 3개 요소로 구성된다.

### 리전
[AWS global infrastructure](https://aws.amazon.com/ko/about-aws/global-infrastructure/)에서 아래와 AWS의 글로벌 인프를 확인 할 수 있다.

![aws region 물리적 위치](https://d1.awsstatic.com/about-aws/regions/global-infra_3.30.18.b559f46825615c1ae40f319d0c4d9139fea9c492.png)

리전은 2개 이상의 가용영역(AZ)을 호스팅하는 지리영역을 가리킨다. 개발자가 인터넷 서비스를 전개하려고 하면 리전 중 하나를 선택할 수 있다. 당연히 서비스 지역과 가까운 위치의 리전을 선택할 것인데, "서비스 지연(latency)"에 직접적인 영향을 줄 것이기 때문이다.

예를 들어 대한민국을 목표로하는 서비스라면 서울리전에 배포를 할 것이다. 

각 리전간에는 사용 할 수 있는 AWS 서비스에 있어서 약간의 차이가 있다. [리전 테이블](https://aws.amazon.com/ko/about-aws/global-infrastructure/regional-product-services/)에서 리전간 제공 서비스 목록을 확인 할 수 있다.

따라서 개발자는 *가까운 리전*과 *리전에서 제공하는 기능 테이블* 두개를 비교해서 서비스를 선택해야 한다. 서비스에서 필요로 하는 모든 기능을 가까운 리전에서 제공한다면, 당연히 그 리전을 선택해야 되겠지만, 기능을 제공하지 않을 경우 고민이 필요 할 수 있다.

예를들어 DynamoDB Accelerator(DAX)의 경우 도쿄리전은 제공하지만 서울리전은 제공하지 않는다. DAX는 서비스 성능을 높이기 위한 기능이므로 서비스에 직접적인 영향을 끼치지는 않는다. 일반적인 상황에서 DAX 때문에 문제가 되는 경우는 없을테니, 서울리전에 구성하는게 나을 테다.

반면 비디오 서비스를 한다면 *Amazon Elastic Transcoder*가 있는 것과 없는 것은 꽤 큰 차이가 될 수 있다. 도쿄리전은 지원하지만 서울리전은 지원하지 않는데, 이 경우 Elastic Transcoder 관련 작업만 도쿄리전에서 수행하는 등의 고민을 해야 할 것이다.

### 가용영역
가용영역은 특정 리전에 존재하는 데이터센터의 모음이다. 
![AWS 가용영역](https://docs.google.com/drawings/d/e/2PACX-1vT1anL2RmGqaZZuw-kX3s24FO4nwOKVMeCUJuaWI3JKccPs6cKCGbL_aI3SZqDekt1eQHFP5GtwTyH_/pub?w=820&h=812)
가용영역은 다른 가용영역과 물리적,논리적으로 분리된다. 각 가용영역은 별도의 무정전 전원 공급장치(UPS), 예비 발전기, 냉각 장비, 네트워크, 전력망을 갖추고 있다. 하나의 리전은 두 개 이상의 가용영역으로 구성이 되는데, 서비스를 AZ에 분산해서 배치하면 AZ의 장애로 부터 안전한 서비스를 만들 수 있다. 

예를 들어 AZ-A와 AZ-B에 웹서버를 분산해 놓으면, AZ-A에 네트워크, 시스템, 소프트웨어 적인 문제가 생기더라도 AZ-B에서 작동중인 웹서버로 서비스를 계속 할 수 있다. 애초에 *가용 영역*이라는 용어 자체가 *가용성을 높이기 위한*이라는 의미를 함축하고 있다.

### 엣지로케이션
